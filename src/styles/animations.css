/* Performance optimizations for animations */

/* Enable hardware acceleration for better performance */
.motion-element {
  will-change: transform, opacity;
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
}

/* Optimize image rendering */
.motion-image {
  will-change: transform;
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
}

/* Prevent navbar icon flickering */
.navbar-icon {
  contain: layout;
  transform: translateZ(0);
  backface-visibility: hidden;
  /* Reserve space to prevent layout shift */
  min-width: 24px;
  min-height: 24px;
  display: block;
}

/* Optimize navbar container */
.navbar-container {
  contain: layout style;
}

/* Reduce paint operations */
.motion-container {
  contain: layout style paint;
  will-change: auto;
}

/* Optimize text rendering during animations */
.motion-text {
  text-rendering: optimizeSpeed;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Prevent layout thrashing */
.motion-fixed-dimensions {
  contain: size layout;
}

/* GPU acceleration for shadows */
.motion-shadow {
  will-change: box-shadow;
  transform: translateZ(0);
}

/* Optimize scroll-triggered animations */
.motion-scroll-container {
  contain: layout;
  will-change: auto;
}

/* Preload critical animations */
@media (prefers-reduced-motion: no-preference) {
  .motion-preload {
    animation-delay: 0s;
    animation-fill-mode: both;
  }
}

/* Respect user preferences */
@media (prefers-reduced-motion: reduce) {
  .motion-element,
  .motion-image,
  .motion-container,
  .motion-shadow {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
